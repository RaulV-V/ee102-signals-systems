\makeatletter
\def\input@path{{../styles/}{../../styles/}{../../../styles/}{../}{../../}{../../../}}
\makeatother


\documentclass{ee102_pset}
\input{macros.tex}
\input{preamble.tex}

% Assignment info
\author{\rule{3cm}{0.4pt}} % Name placeholder
\submitdate{\rule{3cm}{0.4pt}} % Submission date placeholder
\problemset{Homework \#6: Fourier Series}
\renewcommand{\duedate}{October 13, 2025}
\shorttitle{Homework \#6}

\begin{document}
\problem{1}
Consider the RC circuit example in previous problem sets and use its impulse response for this problem. For each of the input signals below, find the Fourier series representation of the output signal:

\problempart[20 points] A train of impulses:
\[
x(t) = \sum_{n=-\infty}^{\infty} \delta(t - n)
\]

\problempart[20 points] A square wave of amplitude 1 sketched below in Figure~\ref{fig:square_wave}. 
\begin{figure}[h]
  \centering
  \begin{tikzpicture}[x=1.2cm,y=1.2cm,line cap=round]
  \pgfmathsetmacro{\H}{0.8}    % pulse height
  \pgfmathsetmacro{\W}{0.5}    % pulse width
  \pgfmathsetmacro{\hh}{0.5*\W}

  % axis
  \draw[->] (-3.6,0)--(4.6,0) node[below] {$t$};

  % pulses centered at integers
  \foreach \n in {-3,-2,-1,0,1,2,3,4}{
    \draw (\n-\hh,0) -- (\n-\hh,\H) -- (\n+\hh,\H) -- (\n+\hh,0);
  }

  % integer ticks and labels
  \foreach \n in {-3,-2,-1,0,1,2,3,4}{
    \draw (\n,0) -- ++(0,-0.06) node[below=2pt] {\small \n};
  }

  % ellipses at ends
  \node at (-3.9,0.58) {$\cdots$};
  \node at ( 4.0,0.58) {$\cdots$};

  % label x(t) over the n=0 pulse
  \draw[->] (0,\H-0.77) -- (0,\H+0.45);
  \node at (0,\H+0.75) {$x(t)$};

  % show width = 1/2 above the pulse at t=1
  \draw[<->] (1-\hh,\H+0.25) -- (1+\hh,\H+0.25)
    node[midway,fill=white,inner sep=1pt] {$\tfrac{1}{2}$};
\end{tikzpicture}
\caption{A square wave of amplitude $A$ and period $T=1$.}
\label{fig:square_wave}

\end{figure}
\problempart[20 points] The $x(t)$ above in part (b) models a PWM signal that drives a motor at a fixed duty cycle. As you engineer your system dynamics, you decided to increase the speed of the motor by twice. For this new PWM signal, sketch the signal and use the answer from the previous part along with properties of LTI systems to find the Fourier series representation of the output signal.

\problempart[10 points] Write Python/MATLAB code to implement the signals in (b) and (c). Compute the outputs, the Fourier series representations, and plot the magnitude spectra of the outputs. Validate your results using these simulations. 
\problem{2}
Compute the Fourier series representation of the following signals. For each part, if you consider only the first $N$ terms of the Fourier series, compute the error energy in the representation for $N=1,2,3,4$. You are allowed to use computer programs for computations, if it helps.

\problempart[15 points] A triangular signal sketched below in Figure~\ref{fig:problem2}A.

\problempart[15 points] 
A rectangular signal sketched below in Figure~\ref{fig:problem2}B.

\begin{figure}[h]
\centering
  \begin{tikzpicture}[x=3.0cm,y=3.0cm,line cap=round]
\def\R{1.55}  % right extent
% axes
\draw[->] (-0.08,0)--(\R,0) node[below] {$t$};
\draw[->] (0,-0.08)--(0,1.15);
% ticks
\draw (0,1) -- ++(-0.03,0) node[left] {1};
\draw (1,0) -- ++(0,-0.03) node[below] {1};
\node[below left] at (0,0) {0};
% signal x(t): ramp on [0,1], drop, then 0
\draw[very thick] (0,0) -- (1,1) -- (1,0) -- (\R,0);
% guide at y=1
\draw[densely dashed] (0,1) -- (1,1);
% label
\node[above] at (0.25,1.05) {$x(t)$};
\end{tikzpicture}
\hspace{1.2cm}
% Figure (b): y(t)
\begin{tikzpicture}[x=3.0cm,y=3.0cm,line cap=round]
\def\R{1.55}
% axes
\draw[->] (-0.08,0)--(\R,0) node[below] {$t$};
\draw[->] (0,-0.08)--(0,1.15);
% ticks
\draw (0,1) -- ++(-0.03,0) node[left] {1};
\draw (1,0) -- ++(0,-0.03) node[below] {1};
\node[below left] at (0,0) {0};
% signal y(t): unit rectangle on [0,1]
\draw[very thick] (0,0) -- (0,1) -- (1,1) -- (1,0) -- (\R,0);
% label
\node[above] at (0.18,1.05) {$y(t)$};
\end{tikzpicture}
\caption{(a) A triangular signal $x(t)$ and (b) a rectangular signal $y(t)$.}
\label{fig:problem2}
\end{figure}

\end{document}
